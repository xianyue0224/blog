---
title: 分析需求，确定需要创建的项目
shortTitle: 确定需要创建的项目
order: 7
date: 2022-11-17
isOriginal: true
sticky: false
star: false
article: true
timeline: true
pageInfo:
  - Original
  - Date
  - Category
  - Tag
  - ReadingTime
  - Word
  - PageView
category:
  - 项目
tag:
  - 慕课乐高
footer: true
---

先不看细节，看整体，这一步就是要确定项目的范围。确定范围是做任何事情的第一步。  
范围确定好了，剩下的事情，即便有问题，也属于“人民内部矛盾”。该购买第三方服务，还是该自研，或者该放弃，就看实际情况了。  

## 需要哪些项目
从需求来看，比较重要的几个方面；B端和编辑器，H5，管理后台  

B端和编辑器，做前后端分离  
- biz-editor-fe
- biz-editor-server

H5适合做SSR，因为要考虑性能  
- H5-server

管理后台，做前端分析  
- admin-fe
- admin-server

::: warning
使用 SSR 需要考虑场景，一般来说，toB不适合用，toC比较适合。  
:::

> 架构设计要考虑成本，尽量用最简单的方案实现需求，不要为了设计而去设计。

## 独立的业务组件库
B端编辑器画布中展示的组件和H5页面中展示的组件实际上是一样的东西，所以只需要写一套代码就够了。

## 自研统计服务
回顾一下作品的渠道，以及分渠道统计这个需求。  
而且，我们非常明确，这个需求是我们业务环节中非常重要的一部分，没有它，我们业务就无法闭环，就跑不通。所以，这肯定是不能砍掉的一部分。  

### 为何要自研  
要实现这个功能，我们就需要自定义事件统计。普通的pv统计，是无法满足要求的。  
- 支持自定义事件统计
支持 Open API ——重要

一开始我们以为会有一些第三方的统计服务：如友盟、百度统计、arms，可以支持。但后来调研发现，它们要么不支持，要么收费很贵。  

所以，需求又不能砍掉，我们综合对比，只能选择自研一个。包括：  
- 日志收集
- 日志分析
- OpenAPI

## 各个项目之间的依赖关系图
![图 6](/img/%E7%A1%AE%E5%AE%9A%E9%A1%B9%E7%9B%AE-2022-11-17-18-37-34.png)  
